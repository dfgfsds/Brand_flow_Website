"use strict";(()=>{var e={};e.id=828,e.ids=[828,888,660],e.modules={3219:(e,t,r)=>{r.d(t,{Z:()=>a});let a=(0,r(1373).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2701:(e,t,r)=>{r.d(t,{Z:()=>a});let a=(0,r(1373).Z)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},3742:(e,t,r)=>{r.d(t,{Z:()=>a});let a=(0,r(1373).Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},7314:(e,t,r)=>{r.d(t,{Z:()=>a});let a=(0,r(1373).Z)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},1012:(e,t,r)=>{r.d(t,{Z:()=>a});let a=(0,r(1373).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9560:(e,t,r)=>{r.d(t,{Z:()=>a});let a=(0,r(1373).Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},5614:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>g,default:()=>h,getServerSideProps:()=>x,getStaticPaths:()=>p,getStaticProps:()=>m,reportWebVitals:()=>b,routeModule:()=>N,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>f});var s=r(7093),i=r(5244),n=r(1323),l=r(1777),o=r.n(l),d=r(1484),c=r(4357),u=e([d,c]);[d,c]=u.then?(await u)():u;let h=(0,n.l)(c,"default"),m=(0,n.l)(c,"getStaticProps"),p=(0,n.l)(c,"getStaticPaths"),x=(0,n.l)(c,"getServerSideProps"),g=(0,n.l)(c,"config"),b=(0,n.l)(c,"reportWebVitals"),f=(0,n.l)(c,"unstable_getStaticProps"),y=(0,n.l)(c,"unstable_getStaticPaths"),j=(0,n.l)(c,"unstable_getStaticParams"),v=(0,n.l)(c,"unstable_getServerProps"),w=(0,n.l)(c,"unstable_getServerSideProps"),N=new s.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/shop/[slug]",pathname:"/shop/[slug]",bundlePath:"",filename:""},components:{App:d.default,Document:o()},userland:c});a()}catch(e){a(e)}})},5411:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>w});var s=r(997),i=r(5314),n=r(1240),l=r(8405),o=r(8031),d=r(7134),c=r(9752),u=r(3742),h=r(9539),m=r(4464),p=r(7420),x=r(9560),g=r(5675),b=r.n(g),f=r(1163),y=r(6689),j=r(6201),v=e([i,n,d,c,j]);[i,n,d,c,j]=v.then?(await v)():v;let w=({image:e,title:t,price:r,onAddToCart:a,onView:g,onWishlist:v,hoverImage:w,product:N})=>{let[S,P]=(0,y.useState)(null),[k,_]=(0,y.useState)(null),[I,C]=(0,y.useState)(null),[q,Z]=(0,y.useState)(!1),{vendorId:A}=(0,o.a)(),z=(0,c.useQueryClient)(),{convertPrice:M}=(0,l.U)();(0,f.useRouter)(),(0,y.useEffect)(()=>{let e=localStorage.getItem("userId"),t=localStorage.getItem("cartId"),r=localStorage.getItem("userName");P(e),_(t),C(r)},[]);let $=async(e,t)=>{try{await (0,i.fw)("",{cart:k,product:e,user:S,vendor:A,quantity:t,created_by:I||"user"})&&(j.default.success("Product added in cart!"),z.invalidateQueries(["getProductData"]))}catch(e){}},E=async()=>{try{await (0,n.hK)("",{user:S,product:N?.id,vendor:A,created_by:A?`user${A}`:"user"})&&(j.default.success("Product added in whishlist!"),z.invalidateQueries(["getProductData"]))}catch(e){console.log(e)}},O=async()=>{try{await (0,n.es)(`${N?.wishListId}`,{deleted_by:A?`user${A}`:"user"})&&(j.default.success("Product removed in whishlist!"),z.invalidateQueries(["getProductData"]))}catch(e){}},R=(()=>{if(!N?.discount||!N?.price)return null;let e=Number(N.discount),t=Number(N.price);if(e<=t)return null;let r=Math.round((e-t)/e*100);return r>0?`${r}% OFF`:null})();return(4.5+.5*Math.random()).toFixed(1),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg relative group transition duration-300 ease-in-out hover:shadow-lg",children:[(0,s.jsxs)("div",{className:"relative h-[165px] md:h-[260px] w-full flex items-center justify-center bg-white",children:[R&&s.jsx("span",{className:"absolute z-[45] top-2 left-2 bg-red-600 text-white text-xs font-bold px-2 py-1 rounded-md",children:R}),(0,s.jsxs)("div",{className:"relative overflow-hidden",children:[e&&s.jsx(b(),{src:e,alt:t,width:300,height:400,className:"object-fill w-full  mx-auto  transition-opacity duration-500 md:group-hover:opacity-0 rounded-md"}),w&&s.jsx(b(),{src:w,alt:`${t} - hover`,width:300,height:400,className:"object-fill w-full  mx-auto absolute top-0 left-0 transform translate-x-full md:group-hover:translate-x-0 transition-transform duration-500 ease-in-out rounded-md"})]}),N?.cartId?s.jsx("button",{onClick:e=>{e.stopPropagation(),S?$(N.id,1):Z(!0)},className:"absolute bottom-1.5 left-1/2 -translate-x-1/2 w-10 h-10 md:w-12 md:h-12 bg-green-400  text-white rounded-full flex items-center justify-center shadow hover:bg-green-600 hover:text-white transition z-10 ",children:s.jsx(u.Z,{size:20})}):s.jsx("button",{onClick:e=>{e.stopPropagation(),S?$(N.id,1):Z(!0)},className:"absolute bottom-1.5 left-1/2 -translate-x-1/2 w-10 h-10 md:w-12 md:h-12 bg-gray-200 border-[3px] border-white rounded-full flex items-center justify-center shadow hover:bg-[#991b1b] hover:text-white transition z-10 ",children:s.jsx(h.Z,{size:20})}),s.jsx("button",{onClick:g,className:"absolute bottom-1.5 left-1/2 md:opacity-0 md:group-hover:opacity-100 opacity-100 -translate-x-16 md:group-hover:-translate-x-20 md:translate-x-0 w-10 md:w-12 h-10 md:h-12 bg-gray-200 border-[3px] border-white rounded-full flex items-center justify-center shadow hover:bg-[#991b1b] hover:text-white transition-all duration-500 z-10",children:s.jsx(m.Z,{size:20})}),N?.isLike===!0?s.jsx("button",{onClick:O,className:"absolute bottom-1.5 right-4 md:right-1/2 md:opacity-0 md:group-hover:opacity-100 opacity-100 md:group-hover:translate-x-20 md:translate-x-0 w-10 h-10 md:w-12 md:h-12 bg-red-500 text-white border-[3px] border-white rounded-full flex items-center justify-center shadow hover:bg-[#991b1b] hover:text-white transition-all duration-500 z-10",children:s.jsx(p.Z,{size:20})}):s.jsx("button",{onClick:E,className:"absolute bottom-1.5 right-4 md:right-1/2 md:opacity-0 md:group-hover:opacity-100 opacity-100 md:group-hover:translate-x-20 md:translate-x-0 w-10 h-10 md:w-12 md:h-12 bg-gray-200  border-[3px] border-white rounded-full flex items-center justify-center shadow hover:bg-[#991b1b] hover:text-white transition-all duration-500 z-10",children:s.jsx(p.Z,{size:20})})]}),(0,s.jsxs)("div",{className:"text-center px-6 py-6",children:[s.jsx("h3",{className:"text-gray-800 font-bold text-sm line-clamp-1 text-left",children:t}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("p",{className:"text-blue-900 font-bold mt-1",children:M(Number(r))}),N?.ratings&&(0,s.jsxs)("div",{className:"flex items-center gap-1 text-blue-900",children:[s.jsx(x.Z,{size:14,fill:"currentColor"}),s.jsx("span",{className:"text-sm font-semibold text-gray-700",children:N?.ratings})]})]})]})]}),q&&s.jsx(d.default,{open:q,handleClose:()=>Z(!1),vendorId:A})]})};a()}catch(e){a(e)}})},329:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>c});var s=r(997),i=r(7134),n=r(7314),l=r(1012),o=r(9539),d=e([i]);function c({totalQty:e,userId:t,cartId:r,handleUpdateCart:a,handleAddCart:d,setSignInModal:c,productId:u,cartItemId:h,signInmodal:m,vendorId:p}){return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-md font-bold text-black",children:"Quantity"}),(0,s.jsxs)("div",{className:"flex items-center w-full md:w-[180px] mt-2",children:[s.jsx("button",{className:"h-10 w-10 border rounded-l flex items-center justify-center disabled:opacity-50",onClick:()=>{t?a(h,"decrease",e):c(!0)},disabled:!h||0==e,children:s.jsx(n.Z,{className:"h-4 w-4"})}),s.jsx("div",{className:"flex-1 h-10 border-t border-b flex items-center justify-center font-medium",children:e||0}),s.jsx("button",{className:"h-10 w-10 border rounded-r flex items-center justify-center",onClick:()=>{t?a(h,"increase",""):c(!0)},children:s.jsx(l.Z,{className:"h-4 w-4"})})]})]}),(0,s.jsxs)("button",{className:"bg-blue-900 text-white px-5 py-2 rounded hover:bg-blue-800 flex items-center gap-2",onClick:()=>{t?d(u):c(!0)},children:[s.jsx(o.Z,{size:18})," Add to Cart"]}),m&&s.jsx(i.default,{open:m,handleClose:()=>c(!1),vendorId:p})]})}i=(d.then?(await d)():d)[0],a()}catch(e){a(e)}})},2996:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var a=r(997),s=r(3219),i=r(2701),n=r(6689);function l({images:e=[],name:t}){let[r,l]=(0,n.useState)(0),o=(0,n.useRef)(0),d=(0,n.useRef)(0);(0,n.useEffect)(()=>{e.length>0&&l(0)},[e]);let c=()=>{l(t=>0===t?e.length-1:t-1)},u=()=>{l(t=>t===e.length-1?0:t+1)},h=e[r];return a.jsx("div",{className:"relative",children:(0,a.jsxs)("div",{className:"space-y-4 top-0 sticky",children:[(0,a.jsxs)("div",{className:"relative aspect-square overflow-hidden rounded-xl border border-border bg-[#F8F7F2] group",onTouchStart:e=>{o.current=e.touches[0].clientX},onTouchMove:e=>{d.current=e.touches[0].clientX},onTouchEnd:()=>{let e=o.current-d.current;Math.abs(e)>50&&(e>0?u():c())},children:[a.jsx("div",{className:""}),a.jsx("img",{src:h||"https://semantic-ui.com/images/wireframe/image.png",alt:t,className:"h-full w-full object-cover transition-all duration-300 group-hover:scale-105"}),a.jsx("button",{onClick:c,className:"absolute top-1/2 left-2 -translate-y-1/2 bg-white/70 rounded-full p-2 shadow hover:bg-white transition",children:a.jsx(s.Z,{})}),a.jsx("button",{onClick:u,className:"absolute top-1/2 right-2 -translate-y-1/2 bg-white/70 rounded-full p-2 shadow hover:bg-white transition",children:a.jsx(i.Z,{})})]}),a.jsx("div",{className:"grid grid-cols-3 gap-4",children:e.map((e,s)=>a.jsx("button",{className:`aspect-square rounded-lg overflow-hidden border-2 ${r===s?"border-blue-500":"border-transparent hover:border-blue-500/50"}`,onClick:()=>l(s),children:a.jsx("img",{src:e,alt:`${t} - ${s+1}`,className:"h-full w-full object-cover"})},s))})]})})}},4357:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>y,getServerSideProps:()=>v});var s=r(997),i=r(968),n=r.n(i),l=r(2996),o=r(5411),d=r(8405),c=r(6689),u=r(329),h=r(6201),m=r(5314),p=r(7973),x=r(9752),g=r(8031),b=r(1163),f=e([o,u,h,m,p,x]);function y({productDetails:e,relatedProducts:t,schemaData:r}){let{convertPrice:a}=(0,d.U)(),[i,f]=(0,c.useState)(!1),[y,v]=(0,c.useState)(null),[w,N]=(0,c.useState)(null),{cartItem:S}=(0,p.B)(),P=(0,x.useQueryClient)(),{vendorId:k}=(0,g.a)(),_=(0,b.useRouter)(),[I,C]=(0,c.useState)(!1);(0,c.useEffect)(()=>{C(!0)},[]),(0,c.useEffect)(()=>{let e=localStorage.getItem("userId"),t=localStorage.getItem("cartId");v(e),N(t)},[]);let q=S?.data?.map((t,r)=>e?.id===t?.product?{Aid:r,cartId:t?.id,cartQty:t?.quantity,...e}:null).filter(Boolean),Z=q?.reduce((e,t)=>e+(t?.cartQty||0),0),A=async t=>{if(!y){f(!0);return}let r={cart:w,product:e?.id,user:y,quantity:1,created_by:"user",vendor:k};try{await (0,m.fw)("",r)&&(h.default.success("Product added in cart!"),P.invalidateQueries(["getCartitemsData"]))}catch(e){console.error(e)}},z=async(t,r,a)=>{if(!y){f(!0);return}try{1===a&&"decrease"===r?await (0,m.uA)(`${t}`)&&h.default.success("Product removed!"):a?await (0,m.pT)(`${t}/${r}/`)&&(h.default.success("Product updated in cart!"),P.invalidateQueries(["getCartitemsData"])):A(e?.id)}catch(e){console.error(e)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n(),{children:[(0,s.jsxs)("title",{children:[e?.name," | Om Sri Tara"]}),s.jsx("meta",{name:"description",content:e?.description_2||e?.name}),s.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(r)}})]}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsx(l.default,{images:e?.image_urls,name:e?.name}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold border-b-2 border-gray-500 capitalize mb-5",children:e?.name}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-4",children:[s.jsx("div",{className:"mt-4 text-2xl font-bold text-blue-900 py-2 border-gray-200",children:a(Number(e?.price))}),e?.discount&&e.discount>0&&e.discount!==e.price&&s.jsx("span",{className:"mt-4 text-xl font-bold text-gray-600 py-2 border-gray-200 line-through",children:a(Number(e?.discount))})]}),s.jsx("div",{dangerouslySetInnerHTML:{__html:e?.description},className:"quill-content"}),s.jsx(u.default,{totalQty:Z,userId:y,cartId:w,handleUpdateCart:z,handleAddCart:A,setSignInModal:f,signInmodal:i,productId:e?.id,cartItemId:q?.[0]?.cartId,vendorId:k}),(0,s.jsxs)("ul",{className:"mt-6 mb-3 space-y-2 text-sm text-gray-700 border-y py-2 border-gray-200",children:[(0,s.jsxs)("li",{children:[s.jsx("strong",{children:"Brand:"})," ",e?.brand_name]}),(0,s.jsxs)("li",{children:[s.jsx("strong",{children:"Availability: "}),s.jsx("span",{className:`font-semibold ${e?.stock_quantity!==0&&e?.status?"text-green-600":"text-red-600"}`,children:e?.stock_quantity!==0&&e?.status?"In Stock":"Out Of Stock"})]})]})]})]}),(0,s.jsxs)("div",{className:"mt-5 border-t pt-5",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Related Products"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:t?.map((e,t)=>s.jsx(o.Z,{image:e?.image_urls[0]||"",hoverImage:e?.image_urls[1]||"",title:e?.name,price:e?.price,onAddToCart:()=>alert(`Add to cart: ${e?.name}`),onView:()=>_.push(`/shop/${j(e?.name)}`),onWishlist:()=>alert(`Wishlist: ${e?.name}`),product:e},t))})]})]})]})}function j(e){return e.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w-]+/g,"")}[o,u,h,m,p,x]=f.then?(await f)():f;let v=async e=>{let{slug:t}=e.params,r=await fetch("https://test-ecomapi.justvy.in/api/products/?vendor_id=144"),a=await r.json(),s=a?.find(e=>j(e.name)===t)||null;if(!s)return{notFound:!0};let i=a.filter(e=>e.category===s.category&&e.id!==s.id).slice(0,4),n={"@context":"https://schema.org/","@type":"Product",name:s?.name,image:s?.image_urls||[],description:s?.description_2||s?.name,brand:{"@type":"Brand",name:"Om Sri Tara"},offers:{"@type":"Offer",priceCurrency:"INR",price:s?.discount>0?s.discount:s?.price,availability:s?.stock_quantity===0?"https://schema.org/OutOfStock":"https://schema.org/InStock",itemCondition:"https://schema.org/NewCondition"},aggregateRating:{"@type":"AggregateRating",ratingValue:s?.ratingValue||"4.8",bestRating:"5",ratingCount:s?.ratingCount||"6"}};return{props:{productDetails:s,relatedProducts:i,schemaData:n}}};a()}catch(e){a(e)}})},5244:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},9752:e=>{e.exports=import("@tanstack/react-query")},9648:e=>{e.exports=import("axios")},5641:e=>{e.exports=import("react-hook-form")},6201:e=>{e.exports=import("react-hot-toast")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[255,667,777,484],()=>r(5614));module.exports=a})();