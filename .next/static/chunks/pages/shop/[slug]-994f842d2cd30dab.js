(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[828],{3219:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});let l=(0,r(1373).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2701:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});let l=(0,r(1373).Z)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},3742:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});let l=(0,r(1373).Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},7314:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});let l=(0,r(1373).Z)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},1012:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});let l=(0,r(1373).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9560:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});let l=(0,r(1373).Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},9422:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shop/[slug]",function(){return r(4357)}])},5411:function(e,t,r){"use strict";var l=r(5893),s=r(5314),a=r(1240),n=r(8405),i=r(8031),o=r(1198),d=r(202),c=r(3742),u=r(9539),h=r(4464),m=r(7420),x=r(9560),v=r(5675),b=r.n(v),f=r(1163),g=r(7294),p=r(6501);t.Z=e=>{let{image:t,title:r,price:v,onAddToCart:j,onView:y,onWishlist:w,hoverImage:N,product:k}=e,[Z,_]=(0,g.useState)(null),[I,S]=(0,g.useState)(null),[C,P]=(0,g.useState)(null),[z,M]=(0,g.useState)(!1),{vendorId:E}=(0,i.a)(),T=(0,d.NL)(),{convertPrice:q}=(0,n.U)();(0,f.useRouter)(),(0,g.useEffect)(()=>{let e=localStorage.getItem("userId"),t=localStorage.getItem("cartId"),r=localStorage.getItem("userName");_(e),S(t),P(r)},[]);let L=async(e,t)=>{try{await (0,s.fw)("",{cart:I,product:e,user:Z,vendor:E,quantity:t,created_by:C||"user"})&&(p.ZP.success("Product added in cart!"),T.invalidateQueries(["getProductData"]))}catch(e){}},Q=async()=>{try{await (0,a.hK)("",{user:Z,product:null==k?void 0:k.id,vendor:E,created_by:E?"user".concat(E):"user"})&&(p.ZP.success("Product added in whishlist!"),T.invalidateQueries(["getProductData"]))}catch(e){console.log(e)}},F=async()=>{try{await (0,a.es)("".concat(null==k?void 0:k.wishListId),{deleted_by:E?"user".concat(E):"user"})&&(p.ZP.success("Product removed in whishlist!"),T.invalidateQueries(["getProductData"]))}catch(e){}},A=(()=>{if(!(null==k?void 0:k.discount)||!(null==k?void 0:k.price))return null;let e=Number(k.discount),t=Number(k.price);if(e<=t)return null;let r=Math.round((e-t)/e*100);return r>0?"".concat(r,"% OFF"):null})();return(4.5+.5*Math.random()).toFixed(1),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg relative group transition duration-300 ease-in-out hover:shadow-lg",children:[(0,l.jsxs)("div",{className:"relative h-[165px] md:h-[260px] w-full flex items-center justify-center bg-white",children:[A&&(0,l.jsx)("span",{className:"absolute z-[45] top-2 left-2 bg-red-600 text-white text-xs font-bold px-2 py-1 rounded-md",children:A}),(0,l.jsxs)("div",{className:"relative overflow-hidden",children:[t&&(0,l.jsx)(b(),{src:t,alt:r,width:300,height:400,className:"object-fill w-full  mx-auto  transition-opacity duration-500 md:group-hover:opacity-0 rounded-md"}),N&&(0,l.jsx)(b(),{src:N,alt:"".concat(r," - hover"),width:300,height:400,className:"object-fill w-full  mx-auto absolute top-0 left-0 transform translate-x-full md:group-hover:translate-x-0 transition-transform duration-500 ease-in-out rounded-md"})]}),(null==k?void 0:k.cartId)?(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),Z?L(k.id,1):M(!0)},className:"absolute bottom-1.5 left-1/2 -translate-x-1/2 w-10 h-10 md:w-12 md:h-12 bg-green-400  text-white rounded-full flex items-center justify-center shadow hover:bg-green-600 hover:text-white transition z-10 ",children:(0,l.jsx)(c.Z,{size:20})}):(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),Z?L(k.id,1):M(!0)},className:"absolute bottom-1.5 left-1/2 -translate-x-1/2 w-10 h-10 md:w-12 md:h-12 bg-gray-200 border-[3px] border-white rounded-full flex items-center justify-center shadow hover:bg-[#991b1b] hover:text-white transition z-10 ",children:(0,l.jsx)(u.Z,{size:20})}),(0,l.jsx)("button",{onClick:y,className:"absolute bottom-1.5 left-1/2 md:opacity-0 md:group-hover:opacity-100 opacity-100 -translate-x-16 md:group-hover:-translate-x-20 md:translate-x-0 w-10 md:w-12 h-10 md:h-12 bg-gray-200 border-[3px] border-white rounded-full flex items-center justify-center shadow hover:bg-[#991b1b] hover:text-white transition-all duration-500 z-10",children:(0,l.jsx)(h.Z,{size:20})}),(null==k?void 0:k.isLike)===!0?(0,l.jsx)("button",{onClick:F,className:"absolute bottom-1.5 right-4 md:right-1/2 md:opacity-0 md:group-hover:opacity-100 opacity-100 md:group-hover:translate-x-20 md:translate-x-0 w-10 h-10 md:w-12 md:h-12 bg-red-500 text-white border-[3px] border-white rounded-full flex items-center justify-center shadow hover:bg-[#991b1b] hover:text-white transition-all duration-500 z-10",children:(0,l.jsx)(m.Z,{size:20})}):(0,l.jsx)("button",{onClick:Q,className:"absolute bottom-1.5 right-4 md:right-1/2 md:opacity-0 md:group-hover:opacity-100 opacity-100 md:group-hover:translate-x-20 md:translate-x-0 w-10 h-10 md:w-12 md:h-12 bg-gray-200  border-[3px] border-white rounded-full flex items-center justify-center shadow hover:bg-[#991b1b] hover:text-white transition-all duration-500 z-10",children:(0,l.jsx)(m.Z,{size:20})})]}),(0,l.jsxs)("div",{className:"text-center px-6 py-6",children:[(0,l.jsx)("h3",{className:"text-gray-800 font-bold text-sm line-clamp-1 text-left",children:r}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("p",{className:"text-blue-900 font-bold mt-1",children:q(Number(v))}),(null==k?void 0:k.ratings)&&(0,l.jsxs)("div",{className:"flex items-center gap-1 text-blue-900",children:[(0,l.jsx)(x.Z,{size:14,fill:"currentColor"}),(0,l.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:null==k?void 0:k.ratings})]})]})]})]}),z&&(0,l.jsx)(o.default,{open:z,handleClose:()=>M(!1),vendorId:E})]})}},329:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var l=r(5893),s=r(1198),a=r(7314),n=r(1012),i=r(9539);function o(e){let{totalQty:t,userId:r,cartId:o,handleUpdateCart:d,handleAddCart:c,setSignInModal:u,productId:h,cartItemId:m,signInmodal:x,vendorId:v}=e;return(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-md font-bold text-black",children:"Quantity"}),(0,l.jsxs)("div",{className:"flex items-center w-full md:w-[180px] mt-2",children:[(0,l.jsx)("button",{className:"h-10 w-10 border rounded-l flex items-center justify-center disabled:opacity-50",onClick:()=>{r?d(m,"decrease",t):u(!0)},disabled:!m||0==t,children:(0,l.jsx)(a.Z,{className:"h-4 w-4"})}),(0,l.jsx)("div",{className:"flex-1 h-10 border-t border-b flex items-center justify-center font-medium",children:t||0}),(0,l.jsx)("button",{className:"h-10 w-10 border rounded-r flex items-center justify-center",onClick:()=>{r?d(m,"increase",""):u(!0)},children:(0,l.jsx)(n.Z,{className:"h-4 w-4"})})]})]}),(0,l.jsxs)("button",{className:"bg-blue-900 text-white px-5 py-2 rounded hover:bg-blue-800 flex items-center gap-2",onClick:()=>{r?c(h):u(!0)},children:[(0,l.jsx)(i.Z,{size:18})," Add to Cart"]}),x&&(0,l.jsx)(s.default,{open:x,handleClose:()=>u(!1),vendorId:v})]})}},2996:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var l=r(5893),s=r(3219),a=r(2701),n=r(7294);function i(e){let{images:t=[],name:r}=e,[i,o]=(0,n.useState)(0),d=(0,n.useRef)(0),c=(0,n.useRef)(0);(0,n.useEffect)(()=>{t.length>0&&o(0)},[t]);let u=()=>{o(e=>0===e?t.length-1:e-1)},h=()=>{o(e=>e===t.length-1?0:e+1)},m=t[i];return(0,l.jsx)("div",{className:"relative",children:(0,l.jsxs)("div",{className:"space-y-4 top-0 sticky",children:[(0,l.jsxs)("div",{className:"relative aspect-square overflow-hidden rounded-xl border border-border bg-[#F8F7F2] group",onTouchStart:e=>{d.current=e.touches[0].clientX},onTouchMove:e=>{c.current=e.touches[0].clientX},onTouchEnd:()=>{let e=d.current-c.current;Math.abs(e)>50&&(e>0?h():u())},children:[(0,l.jsx)("div",{className:""}),(0,l.jsx)("img",{src:m||"https://semantic-ui.com/images/wireframe/image.png",alt:r,className:"h-full w-full object-cover transition-all duration-300 group-hover:scale-105"}),(0,l.jsx)("button",{onClick:u,className:"absolute top-1/2 left-2 -translate-y-1/2 bg-white/70 rounded-full p-2 shadow hover:bg-white transition",children:(0,l.jsx)(s.Z,{})}),(0,l.jsx)("button",{onClick:h,className:"absolute top-1/2 right-2 -translate-y-1/2 bg-white/70 rounded-full p-2 shadow hover:bg-white transition",children:(0,l.jsx)(a.Z,{})})]}),(0,l.jsx)("div",{className:"grid grid-cols-3 gap-4",children:t.map((e,t)=>(0,l.jsx)("button",{className:"aspect-square rounded-lg overflow-hidden border-2 ".concat(i===t?"border-blue-500":"border-transparent hover:border-blue-500/50"),onClick:()=>o(t),children:(0,l.jsx)("img",{src:e,alt:"".concat(r," - ").concat(t+1),className:"h-full w-full object-cover"})},t))})]})})}},4357:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return f},default:function(){return g}});var l=r(5893),s=r(9008),a=r.n(s),n=r(2996),i=r(5411),o=r(8405),d=r(7294),c=r(329),u=r(6501),h=r(5314),m=r(7973),x=r(202),v=r(8031),b=r(1163),f=!0;function g(e){var t,r;let{productDetails:s,relatedProducts:f,schemaData:g}=e,{convertPrice:p}=(0,o.U)(),[j,y]=(0,d.useState)(!1),[w,N]=(0,d.useState)(null),[k,Z]=(0,d.useState)(null),{cartItem:_}=(0,m.B)(),I=(0,x.NL)(),{vendorId:S}=(0,v.a)(),C=(0,b.useRouter)(),[P,z]=(0,d.useState)(!1);(0,d.useEffect)(()=>{z(!0)},[]),(0,d.useEffect)(()=>{let e=localStorage.getItem("userId"),t=localStorage.getItem("cartId");N(e),Z(t)},[]);let M=null==_?void 0:null===(t=_.data)||void 0===t?void 0:t.map((e,t)=>(null==s?void 0:s.id)===(null==e?void 0:e.product)?{Aid:t,cartId:null==e?void 0:e.id,cartQty:null==e?void 0:e.quantity,...s}:null).filter(Boolean),E=null==M?void 0:M.reduce((e,t)=>e+((null==t?void 0:t.cartQty)||0),0),T=async e=>{if(!w){y(!0);return}let t={cart:k,product:null==s?void 0:s.id,user:w,quantity:1,created_by:"user",vendor:S};try{await (0,h.fw)("",t)&&(u.ZP.success("Product added in cart!"),I.invalidateQueries(["getCartitemsData"]))}catch(e){console.error(e)}},q=async(e,t,r)=>{if(!w){y(!0);return}try{1===r&&"decrease"===t?await (0,h.uA)("".concat(e))&&u.ZP.success("Product removed!"):r?await (0,h.pT)("".concat(e,"/").concat(t,"/"))&&(u.ZP.success("Product updated in cart!"),I.invalidateQueries(["getCartitemsData"])):T(null==s?void 0:s.id)}catch(e){console.error(e)}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(a(),{children:[(0,l.jsxs)("title",{children:[null==s?void 0:s.name," | Om Sri Tara"]}),(0,l.jsx)("meta",{name:"description",content:(null==s?void 0:s.description_2)||(null==s?void 0:s.name)}),(0,l.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(g)}})]}),(0,l.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,l.jsx)(n.default,{images:null==s?void 0:s.image_urls,name:null==s?void 0:s.name}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-semibold border-b-2 border-gray-500 capitalize mb-5",children:null==s?void 0:s.name}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-4",children:[(0,l.jsx)("div",{className:"mt-4 text-2xl font-bold text-blue-900 py-2 border-gray-200",children:p(Number(null==s?void 0:s.price))}),(null==s?void 0:s.discount)&&s.discount>0&&s.discount!==s.price&&(0,l.jsx)("span",{className:"mt-4 text-xl font-bold text-gray-600 py-2 border-gray-200 line-through",children:p(Number(null==s?void 0:s.discount))})]}),(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:null==s?void 0:s.description},className:"quill-content"}),(0,l.jsx)(c.default,{totalQty:E,userId:w,cartId:k,handleUpdateCart:q,handleAddCart:T,setSignInModal:y,signInmodal:j,productId:null==s?void 0:s.id,cartItemId:null==M?void 0:null===(r=M[0])||void 0===r?void 0:r.cartId,vendorId:S}),(0,l.jsxs)("ul",{className:"mt-6 mb-3 space-y-2 text-sm text-gray-700 border-y py-2 border-gray-200",children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Brand:"})," ",null==s?void 0:s.brand_name]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Availability: "}),(0,l.jsx)("span",{className:"font-semibold ".concat((null==s?void 0:s.stock_quantity)!==0&&(null==s?void 0:s.status)?"text-green-600":"text-red-600"),children:(null==s?void 0:s.stock_quantity)!==0&&(null==s?void 0:s.status)?"In Stock":"Out Of Stock"})]})]})]})]}),(0,l.jsxs)("div",{className:"mt-5 border-t pt-5",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Related Products"}),(0,l.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:null==f?void 0:f.map((e,t)=>(0,l.jsx)(i.Z,{image:(null==e?void 0:e.image_urls[0])||"",hoverImage:(null==e?void 0:e.image_urls[1])||"",title:null==e?void 0:e.name,price:null==e?void 0:e.price,onAddToCart:()=>alert("Add to cart: ".concat(null==e?void 0:e.name)),onView:()=>C.push("/shop/".concat((null==e?void 0:e.name).toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w-]+/g,""))),onWishlist:()=>alert("Wishlist: ".concat(null==e?void 0:e.name)),product:e},t))})]})]})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=9422)}),_N_E=e.O()}]);