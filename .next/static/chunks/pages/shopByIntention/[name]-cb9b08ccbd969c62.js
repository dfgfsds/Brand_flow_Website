(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[598],{3219:function(e,t,l){"use strict";l.d(t,{Z:function(){return s}});let s=(0,l(1373).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3742:function(e,t,l){"use strict";l.d(t,{Z:function(){return s}});let s=(0,l(1373).Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},9560:function(e,t,l){"use strict";l.d(t,{Z:function(){return s}});let s=(0,l(1373).Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},9670:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shopByIntention/[name]",function(){return l(9309)}])},2416:function(e,t,l){"use strict";l.d(t,{t:function(){return a}});var s=l(5893);let a=e=>{let{currentPage:t,totalPages:l,onPageChange:a}=e,r=(()=>{let e=[];e.push(1),t>4&&e.push("...");let s=Math.max(2,t-2),a=Math.min(l-1,t+2);for(let t=s;t<=a;t++)e.push(t);return t<l-3&&e.push("..."),l>1&&e.push(l),Array.from(new Set(e))})();return(0,s.jsxs)("div",{className:"flex items-center justify-start gap-1 text-sm px-4 py-4",children:[(0,s.jsx)("button",{onClick:()=>a(Math.max(1,t-1)),disabled:1===t,className:"px-2 py-1 border rounded disabled:opacity-50 text-yellow-500 border-yellow-700",children:"<"}),r.map((e,l)=>"..."===e?(0,s.jsx)("span",{className:"px-2 py-1",children:"..."},"dots-".concat(l)):(0,s.jsx)("button",{onClick:()=>a(Number(e)),className:"px-3 py-1 border rounded cursor-pointer text-yellow-500 border-yellow-700 font-bold ".concat(e===t?"bg-blue-900 hover:bg-yellow-700 !text-white":""),children:e},"page-".concat(e))),(0,s.jsx)("button",{onClick:()=>a(Math.min(l,t+1)),disabled:t===l,className:"px-2 py-1 border rounded disabled:opacity-50 text-yellow-500 border-yellow-700",children:">"})]})}},5411:function(e,t,l){"use strict";var s=l(5893),a=l(5314),r=l(1240),o=l(8405),n=l(8031),i=l(1198),d=l(202),c=l(3742),u=l(9539),m=l(4464),h=l(7420),x=l(9560),g=l(5675),p=l.n(g),v=l(1163),b=l(7294),f=l(6501);t.Z=e=>{let{image:t,title:l,price:g,onAddToCart:w,onView:y,onWishlist:j,hoverImage:N,product:k}=e,[S,C]=(0,b.useState)(null),[I,Z]=(0,b.useState)(null),[_,P]=(0,b.useState)(null),[z,M]=(0,b.useState)(!1),{vendorId:E}=(0,n.a)(),L=(0,d.NL)(),{convertPrice:A}=(0,o.U)();(0,v.useRouter)(),(0,b.useEffect)(()=>{let e=localStorage.getItem("userId"),t=localStorage.getItem("cartId"),l=localStorage.getItem("userName");C(e),Z(t),P(l)},[]);let T=async(e,t)=>{try{await (0,a.fw)("",{cart:I,product:e,user:S,vendor:E,quantity:t,created_by:_||"user"})&&(f.ZP.success("Product added in cart!"),L.invalidateQueries(["getProductData"]))}catch(e){}},F=async()=>{try{await (0,r.hK)("",{user:S,product:null==k?void 0:k.id,vendor:E,created_by:E?"user".concat(E):"user"})&&(f.ZP.success("Product added in whishlist!"),L.invalidateQueries(["getProductData"]))}catch(e){console.log(e)}},Q=async()=>{try{await (0,r.es)("".concat(null==k?void 0:k.wishListId),{deleted_by:E?"user".concat(E):"user"})&&(f.ZP.success("Product removed in whishlist!"),L.invalidateQueries(["getProductData"]))}catch(e){}},R=(()=>{if(!(null==k?void 0:k.discount)||!(null==k?void 0:k.price))return null;let e=Number(k.discount),t=Number(k.price);if(e<=t)return null;let l=Math.round((e-t)/e*100);return l>0?"".concat(l,"% OFF"):null})();return(4.5+.5*Math.random()).toFixed(1),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg relative group transition duration-300 ease-in-out hover:shadow-lg",children:[(0,s.jsxs)("div",{className:"relative h-[165px] md:h-[260px] w-full flex items-center justify-center bg-white",children:[R&&(0,s.jsx)("span",{className:"absolute z-[45] top-2 left-2 bg-red-600 text-white text-xs font-bold px-2 py-1 rounded-md",children:R}),(0,s.jsxs)("div",{className:"relative overflow-hidden",children:[t&&(0,s.jsx)(p(),{src:t,alt:l,width:300,height:400,className:"object-fill w-full  mx-auto  transition-opacity duration-500 md:group-hover:opacity-0 rounded-md"}),N&&(0,s.jsx)(p(),{src:N,alt:"".concat(l," - hover"),width:300,height:400,className:"object-fill w-full  mx-auto absolute top-0 left-0 transform translate-x-full md:group-hover:translate-x-0 transition-transform duration-500 ease-in-out rounded-md"})]}),(null==k?void 0:k.cartId)?(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),S?T(k.id,1):M(!0)},className:"absolute bottom-1.5 left-1/2 -translate-x-1/2 w-10 h-10 md:w-12 md:h-12 bg-green-400  text-white rounded-full flex items-center justify-center shadow hover:bg-green-600 hover:text-white transition z-10 ",children:(0,s.jsx)(c.Z,{size:20})}):(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),S?T(k.id,1):M(!0)},className:"absolute bottom-1.5 left-1/2 -translate-x-1/2 w-10 h-10 md:w-12 md:h-12 bg-gray-200 border-[3px] border-white rounded-full flex items-center justify-center shadow hover:bg-[#991b1b] hover:text-white transition z-10 ",children:(0,s.jsx)(u.Z,{size:20})}),(0,s.jsx)("button",{onClick:y,className:"absolute bottom-1.5 left-1/2 md:opacity-0 md:group-hover:opacity-100 opacity-100 -translate-x-16 md:group-hover:-translate-x-20 md:translate-x-0 w-10 md:w-12 h-10 md:h-12 bg-gray-200 border-[3px] border-white rounded-full flex items-center justify-center shadow hover:bg-[#991b1b] hover:text-white transition-all duration-500 z-10",children:(0,s.jsx)(m.Z,{size:20})}),(null==k?void 0:k.isLike)===!0?(0,s.jsx)("button",{onClick:Q,className:"absolute bottom-1.5 right-4 md:right-1/2 md:opacity-0 md:group-hover:opacity-100 opacity-100 md:group-hover:translate-x-20 md:translate-x-0 w-10 h-10 md:w-12 md:h-12 bg-red-500 text-white border-[3px] border-white rounded-full flex items-center justify-center shadow hover:bg-[#991b1b] hover:text-white transition-all duration-500 z-10",children:(0,s.jsx)(h.Z,{size:20})}):(0,s.jsx)("button",{onClick:F,className:"absolute bottom-1.5 right-4 md:right-1/2 md:opacity-0 md:group-hover:opacity-100 opacity-100 md:group-hover:translate-x-20 md:translate-x-0 w-10 h-10 md:w-12 md:h-12 bg-gray-200  border-[3px] border-white rounded-full flex items-center justify-center shadow hover:bg-[#991b1b] hover:text-white transition-all duration-500 z-10",children:(0,s.jsx)(h.Z,{size:20})})]}),(0,s.jsxs)("div",{className:"text-center px-6 py-6",children:[(0,s.jsx)("h3",{className:"text-gray-800 font-bold text-sm line-clamp-1 text-left",children:l}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("p",{className:"text-blue-900 font-bold mt-1",children:A(Number(g))}),(null==k?void 0:k.ratings)&&(0,s.jsxs)("div",{className:"flex items-center gap-1 text-blue-900",children:[(0,s.jsx)(x.Z,{size:14,fill:"currentColor"}),(0,s.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:null==k?void 0:k.ratings})]})]})]})]}),z&&(0,s.jsx)(i.default,{open:z,handleClose:()=>M(!1),vendorId:E})]})}},9742:function(e,t,l){"use strict";var s=l(5893);l(7294),t.Z=()=>(0,s.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden shadow relative animate-pulse",children:[(0,s.jsxs)("div",{className:"relative h-[165px] md:h-[260px] w-full bg-gray-200",children:[(0,s.jsx)("div",{className:"absolute top-2 left-2 bg-gray-300 h-5 w-14 rounded-md"}),(0,s.jsx)("div",{className:"absolute bottom-1.5 left-1/2 -translate-x-1/2 w-10 h-10 md:w-12 md:h-12 bg-gray-300 rounded-full"}),(0,s.jsx)("div",{className:"absolute bottom-1.5 left-4 md:left-[calc(50%-80px)] w-10 h-10 md:w-12 md:h-12 bg-gray-300 rounded-full"}),(0,s.jsx)("div",{className:"absolute bottom-1.5 right-4 md:right-[calc(50%-80px)] w-10 h-10 md:w-12 md:h-12 bg-gray-300 rounded-full"})]}),(0,s.jsxs)("div",{className:"px-6 py-6",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("div",{className:"h-4 w-20 bg-gray-300 rounded"}),(0,s.jsx)("div",{className:"h-4 w-12 bg-gray-300 rounded"})]})]})]})},9309:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return b}});var s=l(5893),a=l(9332),r=l(6852),o=l(3219),n=l(7294),i=l(202),d=l(8031),c=l(1198),u=l(7973),m=l(5411),h=l(1163),x=l(2416),g=l(584),p=l(9742);function v(){var e,t;let l=(0,n.useRef)(null),{name:v}=null!==(t=(0,a.useParams)())&&void 0!==t?t:{},[b,f]=(0,n.useState)(null),[w,y]=(0,n.useState)(null),[j,N]=(0,n.useState)(null),[k,S]=(0,n.useState)(!1),{products:C,isLoading:I}=(0,r.r)(),{intentions:Z}=(0,g.d)(),[_,P]=(0,n.useState)(null),[z,M]=(0,n.useState)(!1);(0,i.NL)();let{vendorId:E}=(0,d.a)(),{cartItem:L}=(0,u.B)(),A=(0,h.useRouter)(),[T,F]=(0,n.useState)(1);(0,n.useEffect)(()=>{let e=localStorage.getItem("userId"),t=localStorage.getItem("cartId"),l=localStorage.getItem("userName");f(e),y(t),N(l)},[]);let Q=null==Z?void 0:Z.find(e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toString())===v}),R=null==C?void 0:null===(e=C.data)||void 0===e?void 0:e.filter(e=>{var t;return(null===(t=e.subcategory_name)||void 0===t?void 0:t.toString())===v&&(!0===e.status||1===e.status||"1"===e.status||"true"===e.status||"TRUE"===e.status||"active"===e.status||"ACTIVE"===e.status)}),D=null==R?void 0:R.map((e,t)=>{var l;let s=null==L?void 0:null===(l=L.data)||void 0===l?void 0:l.find(t=>(null==t?void 0:t.product)===(null==e?void 0:e.id));return s?{...e,Aid:t,cartQty:null==s?void 0:s.quantity,cartId:s.id}:e}),H=Math.ceil(((null==D?void 0:D.length)||0)/12),O=null==D?void 0:D.slice((T-1)*12,12*T);function V(e){return e.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w-]+/g,"")}return(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-2 md:px-4 py-10",ref:l,children:[(0,s.jsxs)("div",{className:"my-2 mb-5 flex",children:[(0,s.jsx)(o.Z,{onClick:()=>A.back(),className:"text-gray-400 cursor-pointer"}),(0,s.jsxs)("div",{className:"text-md text-gray-400 flex mt-0.5 gap-1",children:[(0,s.jsx)("span",{children:"Home"}),(0,s.jsxs)("span",{className:"cursor-pointer flex",onClick:()=>A.back(),children:["/ ",v]}),"  ",(0,s.jsx)("span",{className:"text-yellow-500",children:"/ Shop"})]})]}),(0,s.jsx)("div",{className:"m-2",children:(0,s.jsx)("div",{className:"",dangerouslySetInnerHTML:{__html:null==Q?void 0:Q.description2}})}),(0,s.jsxs)("h1",{className:"text-3xl font-bold  text-yellow-500 mb-6 mt-6 text-center",children:[v," Products"]}),I?(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:[...Array(6)].map((e,t)=>(0,s.jsx)("div",{className:"px-2",children:(0,s.jsx)(p.Z,{})},t))}):(null==O?void 0:O.length)>0?(0,s.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-6",children:[O.map((e,t)=>(0,s.jsx)("div",{className:"",onClick:()=>A.push("/shop/".concat(V(null==e?void 0:e.name))),children:(0,s.jsx)(m.Z,{image:(null==e?void 0:e.image_urls[0])||"",hoverImage:(null==e?void 0:e.image_urls[1])||"",title:null==e?void 0:e.name,price:null==e?void 0:e.price,onAddToCart:()=>alert("Add to cart: ".concat(null==e?void 0:e.name)),onView:()=>A.push("/shop/".concat(V(null==e?void 0:e.name))),onWishlist:()=>alert("Wishlist: ".concat(null==e?void 0:e.name)),product:e})},t)),H>1&&(0,s.jsx)("div",{className:"flex justify-center mt-6",children:(0,s.jsx)(x.t,{currentPage:T,totalPages:H,onPageChange:e=>{var t;F(e),null===(t=l.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})}})})]}):(0,s.jsx)("p",{className:"text-center text-gray-500",children:"No products found for this category."}),k&&(0,s.jsx)(c.default,{open:k,handleClose:()=>S(!1),vendorId:E})]})}function b(){return(0,s.jsx)(v,{})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=9670)}),_N_E=e.O()}]);